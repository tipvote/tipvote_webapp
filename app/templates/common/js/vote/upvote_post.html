

<script type = "text/javascript" >
    $(document).on('click', '#click-btn-upvote-post-{{ post.id }}', function(event)
    {
        $.ajax({
            url: "{{ url_for('vote.upvote_post', postid=post.id) }}",
            type: "post",
            contentType: 'application/json;charset=UTF-8',
            data: JSON.stringify($(this).attr("value")),
            dataType: 'json',

            success: function(data)
            {

                $('div#number_before_' + data.thepostid).remove();
                $('div#number_after_up_' + data.thepostid).append(data.newnumber);
                console.log("SUCCESS");
                console.log(data);
                return data;
            },

            error: function()
            {
                console.log("ERROR");
            },

        });
        event.preventDefault();
    });

</script>